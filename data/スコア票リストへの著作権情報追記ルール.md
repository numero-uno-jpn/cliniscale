# スコア票リストへの著作権情報追記ルール

## 1. 基本方針

### 1.1 情報源の優先順位

1. **第一情報源**: Grok 出力の著作権情報表（document index 1, 2）
2. **第二情報源**: スコア票リスト.yaml（document index 3）のサンプル
3. **情報不足時**: `unknown` または `null` で明示的に記載

### 1.2 照合プロセス

1. スコア票リストの各項目について、abbreviation または full_name で Grok 表を検索
2. 完全一致を優先、部分一致は慎重に判断
3. 該当情報が見つからない場合は明示的に記録

## 2. 著作権情報の構造

### 2.1 必須フィールド

```yaml
copyright:
  license_category: "カテゴリー名"
  commercial_use: true/false/null
  permission_required: true/false/null
  fees_required: true/false/null
  training_required: true/false/null
  original_developers: "開発者名と年"
  japanese_version: "日本語版の情報"
  recommendations: "実装時の推奨事項"
```

### 2.2 license_category の定義

| カテゴリー                    | 説明               | 使用条件                       |
| ----------------------------- | ------------------ | ------------------------------ |
| `public_domain`               | パブリックドメイン | 完全フリー、引用推奨           |
| `free_with_citation`          | 引用表記必須       | 引用のみで無料利用可能         |
| `non_commercial_free`         | 非営利限定         | 非営利は無料、商用は要許諾     |
| `permission_required_free`    | 許諾必要（無料）   | 許諾必要だが料金不要           |
| `permission_required_paid`    | 許諾必要（有料）   | 許諾と料金の両方必要           |
| `commercial_license_required` | 商用ライセンス必須 | 商用利用には必ずライセンス契約 |
| `restricted`                  | 厳しい制限         | 研修・認定等の追加要件あり     |
| `unknown`                     | 情報不足           | 著作権状況が不明確             |

### 2.3 フラグフィールドの定義

#### commercial_use

- `true`: 商用利用可能
- `false`: 商用利用不可
- `null`: 情報なし

#### permission_required

- `true`: 使用前に許諾取得が必要
- `false`: 許諾不要
- `null`: 情報なし

#### fees_required

- `true`: 使用料金が発生
- `false`: 無料
- `null`: 情報なし

#### training_required

- `true`: 研修・認定が必要
- `false`: 研修・認定不要
- `null`: 情報なし

## 3. 追記作業の手順

### 3.1 事前準備

1. Grok 表をスプレッドシート等で開き、検索可能な状態にする
2. スコア票リストのバックアップを取得
3. 作業範囲を明確化（全項目 or 特定範囲）

### 3.2 項目ごとの作業フロー

```
1. スコア票リストの項目を読み込み
   ↓
2. abbreviation または full_name でGrok表を検索
   ↓
3. 該当項目が見つかった？
   YES → 4へ
   NO  → 6へ
   ↓
4. Grok表から以下の情報を抽出：
   - Copyright Status（著作権状況）
   - Permissions/Restrictions（許諾/制限）
   - Suggested Measures（対策提案）
   - Original Source（原典）
   - Japanese Translation Source（日本語訳の主なソース）
   ↓
5. license_categoryを判定：
   - "public domain" → public_domain
   - "free for" + "no permission" → free_with_citation
   - "permission required" + "fees" → permission_required_paid
   - "permission required" + "free" → permission_required_free
   - "non-commercial" → non_commercial_free
   - "license required" → commercial_license_required
   - "training" → restricted
   ↓
6. 情報が不足している場合：
   - license_category: "unknown"
   - フラグは全て null
   - recommendations に「開発者に連絡して確認」と記載
   ↓
7. YAML形式で追記
   ↓
8. 次の項目へ
```

### 3.3 判定ルール詳細

#### license_category の判定基準

1. **public_domain の判定**

   - Grok 表に "public domain" の明示
   - "free to use" + "no permission required"
   - 開発年が古い（1970 年代以前）+ 制限なし

2. **free_with_citation の判定**

   - "reproducible without permission if source cited"
   - "free to reproduce with copyright notice"
   - "acknowledge source"

3. **non_commercial_free の判定**

   - "free for non-commercial use"
   - "permission required for commercial"
   - "no fees mentioned" + "non-commercial"

4. **permission_required_free の判定**

   - "permission required"
   - "available for non-commercial use with acknowledgment"
   - "no fees" または fees 言及なし

5. **permission_required_paid の判定**

   - "permission and licensing required; fees may apply"
   - "licensing required; fees for"
   - "fees per administration"

6. **commercial_license_required の判定**

   - "licensing required" (Pearson, PAR, MHS 等の大手)
   - "copyrighted by [商用出版社]"
   - "managed by Mapi Trust" (有料の場合)

7. **restricted の判定**
   - "training recommended" または "certification required"
   - "not suitable for self-administration"
   - 特殊な制限条件あり

## 4. フィールド別記入ルール

### 4.1 original_developers

- 開発者名と年を記載
- 複数の場合は "et al." を使用
- フォーマット: "Name et al. (YYYY)"
- 例: "Aaron T. Beck, Robert A. Steer, and Gregory K. Brown (1996)"

### 4.2 japanese_version

- 日本語版の検証論文の第一著者と年を記載
- Grok 表の "Japanese Translation Source" を参考
- 情報がない場合: "Japanese version validated" または "Japanese studies use it"

### 4.3 recommendations

- Grok 表の "Suggested Measures" を日本語化
- 実装時の具体的な推奨事項を記載
- 連絡先（Pearson、Mapi Trust 等）を明記
- 代替案がある場合は提示

## 5. 特殊ケースの処理

### 5.1 情報が部分的にしかない場合

```yaml
copyright:
  license_category: "permission_required_free" # 判明している部分
  commercial_use: null # 不明
  permission_required: true # 判明している部分
  fees_required: null # 不明
  training_required: null # 不明
  original_developers: "Name (YYYY)"
  japanese_version: "情報なし"
  recommendations: "開発者に連絡して詳細を確認。現時点では許諾必要"
```

### 5.2 日本独自開発のスコア

```yaml
copyright:
  license_category: "unknown" # または適切なカテゴリー
  commercial_use: null
  permission_required: null
  fees_required: null
  training_required: null
  original_developers: "日本の開発者名 (YYYY)"
  japanese_version: "Original Japanese"
  recommendations: "日本の開発機関（学会等）に連絡して著作権状況を確認"
```

### 5.3 複数バージョンが存在する場合

- 最新版の情報を優先
- 旧版がパブリックドメインでも新版が保護されている場合は新版基準
- 例: BDI (1961) vs BDI-II (1996)
  ```yaml
  recommendations: "Pearson ClinicalまたはBeck Instituteに連絡してライセンス取得。オリジナルBDI (1961)はパブリックドメインだがBDI-IIは保護されている"
  ```

## 6. 品質管理

### 6.1 チェックリスト

- [ ] 全項目に copyright セクションが追加されている
- [ ] license_category が 8 つのカテゴリーのいずれかである
- [ ] フラグフィールドは true/false/null のいずれか
- [ ] original_developers に年が含まれている
- [ ] recommendations が具体的で実行可能
- [ ] YAML 構文エラーがない
- [ ] インデントが統一されている（2 スペース）

### 6.2 レビューポイント

1. **整合性チェック**

   - license_category と各フラグの組み合わせが論理的か
   - 例: public_domain なのに permission_required: true は矛盾

2. **情報の正確性**

   - Grok 表の情報と一致しているか
   - 開発者名や年に誤りがないか

3. **実用性**
   - recommendations が実装者にとって有用か
   - 連絡先や代替案が適切に示されているか

## 7. サンプルテンプレート

### 7.1 パブリックドメインの場合

```yaml
スコア名:
  categories: ["カテゴリー"]
  abbreviation: 略称
  full_name: 正式名称
  purpose: 目的
  description: 説明
  sample_app: URL
  copyright:
    license_category: "public_domain"
    commercial_use: true
    permission_required: false
    fees_required: false
    training_required: false
    original_developers: "開発者名 (年)"
    japanese_version: "日本語版情報"
    recommendations: "原著を引用。ライセンス不要"
```

### 7.2 商用ライセンス必須の場合

```yaml
スコア名:
  categories: ["カテゴリー"]
  abbreviation: 略称
  full_name: 正式名称
  purpose: 目的
  description: 説明
  sample_app: URL
  copyright:
    license_category: "commercial_license_required"
    commercial_use: true
    permission_required: true
    fees_required: true
    training_required: false
    original_developers: "開発者名 (年)"
    japanese_version: "日本語版情報"
    recommendations: "権利者（例：Pearson Clinical）に連絡してライセンス取得。Webアプリでは明示的な許諾を取得。料金が発生する可能性"
```

### 7.3 情報不足の場合

```yaml
スコア名:
  categories: ["カテゴリー"]
  abbreviation: 略称
  full_name: 正式名称
  purpose: 目的
  description: 説明
  sample_app: URL
  copyright:
    license_category: "unknown"
    commercial_use: null
    permission_required: null
    fees_required: null
    training_required: null
    original_developers: "情報不足"
    japanese_version: "情報不足"
    recommendations: "開発者または関連学会に連絡して著作権状況を確認。使用前に必ず許諾状況を明確化すること"
```

## 8. 実装時の注意事項

### 8.1 フィルタリング用途

この構造により、以下のようなクエリが可能：

```python
# 商用利用可能かつ無料
commercial_use: true AND fees_required: false

# 許諾不要
permission_required: false

# 完全フリー
license_category IN ["public_domain", "free_with_citation"]

# 有料ライセンス
fees_required: true

# 研修必要
training_required: true
```

### 8.2 Web アプリでの表示推奨

- license_category を色分け（緑=free、黄=要許諾、赤=有料）
- recommendations をツールチップで表示
- 著作権情報へのリンク提供

### 8.3 更新管理

- 著作権情報は変更される可能性があるため、定期的な見直しが必要
- 年 1 回程度、主要なスコアの著作権状況を再確認
- 更新履歴を記録（いつ、誰が、どの情報源で確認したか）

---

**文書バージョン**: 1.0  
**作成日**: 2025 年（実際の日付に置き換え）  
**最終更新**: 2025 年（実際の日付に置き換え）
